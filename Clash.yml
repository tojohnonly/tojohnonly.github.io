###############################################################
# ENSK ONLY
###############################################################
port: 7890
socks-port: 7891
redir-port: 7892
tproxy-port: 7893
mixed-port: 7890
allow-lan: false
mode: rule
log-level: silent

##################################
# HOSTS
##################################
#hosts:
  #tojohnonly.com: 127.0.0.1
  #baidu.com: 192.168.110.7
  #mikanani.me: 192.168.197.38

##################################
# Proxy Providers
##################################
proxy-providers:

  EnskNodes:
    type: http
    url: https://x.nn8qozmu.top/api/v1/client/new?token=8001a9b51c760b6912d3f32d23687e5e
    path: ./proxy-providers/tmpEnskNodes.yml
    interval: 86400
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
      lazy: false



##################################
# Proxy Groups
##################################
proxy-groups:
  - name: Default
    type: select
    proxies:
      - AutoSelect
      - Japan
    use:
      - EnskNodes

  - name: AutoSelect
    type: url-test
    filter: 香港|HK|Hong Kong|日本|JP|Japan|新加坡|SG|Singapore|美国|US|United States
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    lazy: false
    tolerance: 50
    use:
      - EnskNodes

  - name: Japan
    type: url-test
    filter: 日本|JP|Japan
    url: 'http://www.gstatic.com/generate_204'
    interval: 300
    lazy: false
    tolerance: 50
    use:
      - EnskNodes

  - name: Bahamut
    type: select
    proxies:
      - AutoSelect
      - Japan
    use:
      - EnskNodes

  - name: Netflix
    type: select
    proxies:
      - AutoSelect
      - Japan
    use:
      - EnskNodes

  - name: AiModel
    type: select
    filter: 日本|JP|Japan|新加坡|SG|Singapore|美国|US|United States
    proxies:
      - Japan
    use:
      - EnskNodes



##################################
# Rules
##################################

rule-providers:  
  BanAds:
    type: http
    behavior: domain
    format: yaml
    path: ./rule_providers/AWAvenue-Ads-Rule-Clash.yaml
    url: https://raw.githubusercontent.com/TG-Twilight/AWAvenue-Ads-Rule/main/Filters/AWAvenue-Ads-Rule-Clash.yaml
    interval: 86400

rules:
  # NHK
  - DOMAIN-KEYWORD, nhk, Japan
  # OpenAI
  - DOMAIN-SUFFIX, cloudflare.com, AiModel
  - DOMAIN-SUFFIX, auth0.com, AiModel
  - DOMAIN-KEYWORD, openai, AiModel
  - DOMAIN-KEYWORD, chatgpt, AiModel
  # Grok
  - DOMAIN-KEYWORD, grok, Default
  - DOMAIN-SUFFIX, grok.com, Default
  - DOMAIN-SUFFIX, x.ai, Default
  # Gemini
  - DOMAIN, ai.google.dev, AiModel
  - DOMAIN, alkalimakersuite-pa.clients6.google.com, AiModel
  - DOMAIN, makersuite.google.com, AiModel
  - DOMAIN-SUFFIX, bard.google.com, AiModel
  - DOMAIN-SUFFIX, deepmind.com, AiModel
  - DOMAIN-SUFFIX, deepmind.google, AiModel
  - DOMAIN-SUFFIX, gemini.google.com, AiModel
  - DOMAIN-SUFFIX, generativeai.google, AiModel
  - DOMAIN-SUFFIX, proactivebackend-pa.googleapis.com, AiModel
  - DOMAIN-SUFFIX, apis.google.com, AiModel
  - DOMAIN-KEYWORD, colab, AiModel
  - DOMAIN-KEYWORD, gemini, AiModel
  - DOMAIN-KEYWORD, developerprofiles, AiModel
  - DOMAIN-KEYWORD, generativelanguage, AiModel
  # Claude
  - DOMAIN, cdn.usefathom.com, AiModel
  - DOMAIN-SUFFIX, anthropic.com, AiModel
  - DOMAIN-SUFFIX, claude.ai, AiModel
  - DOMAIN-KEYWORD, claude, AiModel
  - DOMAIN-KEYWORD, anthropic, AiModel
  # Telegram
  - DOMAIN-KEYWORD, telegram, Default
  - DOMAIN-KEYWORD, tele, Default
  - DOMAIN-SUFFIX, t.me , Default
  # Google
  - DOMAIN-KEYWORD, goog, Default
  - DOMAIN-KEYWORD, google, Default
  - DOMAIN-KEYWORD, gmail, Default
  - DOMAIN-KEYWORD, gvt, Default
  - DOMAIN-KEYWORD, chrome, Default
  - DOMAIN-KEYWORD, appspot, Default
  - DOMAIN-KEYWORD, blogspot, Default
  - DOMAIN-KEYWORD, recaptcha, Default
  # Youtube
  - DOMAIN-KEYWORD, youtube, Default
  - DOMAIN-KEYWORD, youtu, Default
  - DOMAIN-KEYWORD, ytimg, Default
  - DOMAIN-KEYWORD, ggpht, Default
  - DOMAIN-SUFFIX, yt.be, Default
  # Netflix
  - DOMAIN-KEYWORD, netflix, Netflix
  - DOMAIN-KEYWORD, nflx, Netflix
  # TikTok
  - DOMAIN-KEYWORD, tiktok, Japan
  - DOMAIN-KEYWORD, musical.ly, Japan
  - DOMAIN-SUFFIX, lf16-effectcdn.byteeffecttos-g.com, Japan
  - DOMAIN-SUFFIX, lf16-pkgcdn.pitaya-clientai.com, Japan
  - DOMAIN-SUFFIX, p16-tiktokcdn-com.akamaized.net, Japan
  - DOMAIN-SUFFIX, bytedapm.com, Japan
  - DOMAIN-SUFFIX, bytegecko-i18n.com, Japan
  - DOMAIN-SUFFIX, byteoversea.com, Japan
  - DOMAIN-SUFFIX, capcut.com, Japan
  - DOMAIN-SUFFIX, ibytedtos.com, Japan
  - DOMAIN-SUFFIX, ibyteimg.com, Japan
  - DOMAIN-SUFFIX, ipstatp.com, Japan
  - DOMAIN-SUFFIX, isnssdk.com, Japan
  - DOMAIN-SUFFIX, muscdn.com, Japan
  - DOMAIN-SUFFIX, sgpstatp.com, Japan
  - DOMAIN-SUFFIX, snssdk.com, Japan
  - DOMAIN-SUFFIX, tik-tokapi.com, Japan
  # Reddit
  - DOMAIN-KEYWORD, redd, Default
  - DOMAIN-KEYWORD, reddit, Default
  # Duolingo
  - DOMAIN-SUFFIX, duolingo.com, Default
  - DOMAIN-SUFFIX, duolingo.cn, DIRECT
  # Twitter
  - DOMAIN-KEYWORD, twitter, Default
  - DOMAIN-KEYWORD, tweet, Default
  - DOMAIN-KEYWORD, twimg, Default
  - DOMAIN-KEYWORD, twitpic, Default
  - DOMAIN-KEYWORD, twtrdns, Default
  - DOMAIN-KEYWORD, twttr, Default
  - DOMAIN-KEYWORD, twvid, Default
  - DOMAIN-KEYWORD, twdigitalassets, Default
  - DOMAIN-SUFFIX, vine.co , Default
  - DOMAIN-SUFFIX, x.com , Default
  - DOMAIN-SUFFIX, periscope.tv, Default
  - DOMAIN-SUFFIX, pscp.tv, Default
  - DOMAIN-SUFFIX, t.co, Default
  # Twitch
  - DOMAIN-KEYWORD, twitch, Default
  - DOMAIN-KEYWORD, ttvnw, Default
  - DOMAIN-SUFFIX, ext-twitch.tv, Default
  - DOMAIN-SUFFIX, jtvnw.net, Default
  - DOMAIN-SUFFIX, live-video.net, Default
  - DOMAIN-SUFFIX, ttvnw.net, Default
  - DOMAIN-SUFFIX, twitch-ext.rootonline.de, Default
  - DOMAIN-SUFFIX, twitch.tv, Default
  - DOMAIN-SUFFIX, twitchcdn.net, Default
  - DOMAIN-SUFFIX, twitchsvc.net, Default
  # 巴哈姆特动画疯
  - DOMAIN-KEYWORD, gamer.com, Bahamut
  - DOMAIN-KEYWORD, bahamut, Bahamut
  # Proxy
  - DOMAIN-KEYWORD, v2ex, Default
  - DOMAIN-KEYWORD, spotify, Default
  - DOMAIN-KEYWORD, telegram, Default
  - DOMAIN-KEYWORD, reddit, Default
  - DOMAIN-KEYWORD, tradingview, Default
  - DOMAIN-KEYWORD, imgur.com, Japan
  - DOMAIN-KEYWORD, linux.do, Default
  # DIRECT
  - DOMAIN-KEYWORD, apple, DIRECT
  - DOMAIN-KEYWORD, icloud, DIRECT
  - DOMAIN-KEYWORD, xiaomi, DIRECT
  - DOMAIN-KEYWORD, miot, DIRECT
  - DOMAIN-SUFFIX, mi.com, DIRECT
  - DOMAIN-SUFFIX, miui.com, DIRECT
  - DOMAIN-SUFFIX, qq.com, DIRECT
  - DOMAIN-SUFFIX, jd.com, DIRECT
  - DOMAIN-SUFFIX, 360buy.com, DIRECT
  - DOMAIN-KEYWORD, jdcloud, DIRECT
  - DOMAIN-KEYWORD, meituan, DIRECT
  - DOMAIN-KEYWORD, aliyun, DIRECT
  - DOMAIN-KEYWORD, alipan, DIRECT
  - DOMAIN-KEYWORD, baidu, DIRECT
  - DOMAIN-KEYWORD, bili, DIRECT
  - DOMAIN-KEYWORD, csdn, DIRECT
  - DOMAIN-KEYWORD, zhihu, DIRECT
  # BanAds
  - RULE-SET, BanAds, REJECT
  # ------------- Reject Domain (Only on PC) -------------
  - DOMAIN-SUFFIX, ubi.com, REJECT
  - DOMAIN-KEYWORD, ubisoft, REJECT
  - DOMAIN-SUFFIX, adobe.io, REJECT
  - DOMAIN-SUFFIX, use.typekit.net, REJECT
  - DOMAIN-SUFFIX, adobe.com, REJECT
  - DOMAIN-SUFFIX, adobeccstatic.com, REJECT
  - DOMAIN-KEYWORD, navicat, REJECT
  # ------------- Reject Domain (Only on PC) -------------
  # GEOIP
  - GEOIP, CN, DIRECT
  # Final
  - MATCH, Default
